Vou ler o arquivo de fluxo de desenvolvimento para entender a estrutura do projeto e depois explicar detalhadamente cada diretÃ³rio.

Read file: fluxo de desenvolvimento.txt
Agora vou ler o README.md para entender melhor o projeto:

Read file: README.md
Agora vou verificar se existe algum arquivo de arquitetura AWS:

Read file: arquitetura_aws.md
Com base na anÃ¡lise dos arquivos, vou criar uma estrutura de projeto detalhada explicando cada diretÃ³rio conforme o fluxo de desenvolvimento. Aqui estÃ¡ a estrutura recomendada:

## ğŸ“ Estrutura Detalhada do Projeto B3 Data Pipeline

### **Raiz do Projeto (`b3_data_pipeline/`)**
```
b3_data_pipeline/
â”œâ”€â”€ ğŸ“„ README.md                    # DocumentaÃ§Ã£o principal do projeto
â”œâ”€â”€ ğŸ“„ requirements.txt             # DependÃªncias Python do projeto
â”œâ”€â”€ ğŸ“„ fluxo de desenvolvimento.txt # Guia sequencial de implementaÃ§Ã£o
â”œâ”€â”€ ï¿½ï¿½ arquitetura_aws.md          # Diagrama da arquitetura AWS
â”œâ”€â”€ ğŸ“ venv/                       # Ambiente virtual Python (jÃ¡ existente)
â”œâ”€â”€ ğŸ“ src/                        # CÃ³digo fonte principal
â”œâ”€â”€ ğŸ“ data/                       # Dados processados localmente
â”œâ”€â”€ ğŸ“ config/                     # ConfiguraÃ§Ãµes e variÃ¡veis de ambiente
â”œâ”€â”€ ğŸ“ logs/                       # Logs de execuÃ§Ã£o
â”œâ”€â”€ ğŸ“ tests/                      # Testes unitÃ¡rios e de integraÃ§Ã£o
â”œâ”€â”€ ğŸ“ docs/                       # DocumentaÃ§Ã£o tÃ©cnica
â””â”€â”€ ğŸ“ scripts/                    # Scripts de automaÃ§Ã£o e deploy
```

### **ğŸ“ `src/` - CÃ³digo Fonte Principal**
```
src/
â”œâ”€â”€ ğŸ“ collectors/                 # Coletores de dados da B3
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ b3_scraper.py             # MÃ³dulo principal de coleta da API B3
â”‚   â””â”€â”€ api_client.py             # Cliente HTTP para APIs da B3
â”œâ”€â”€ ğŸ“ models/                     # Modelos de dados Pydantic
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ ibov.py                   # Modelos para validaÃ§Ã£o dos dados do Ibovespa
â”‚   â””â”€â”€ schemas.py                # Schemas gerais de dados
â”œâ”€â”€ ğŸ“ storage/                    # Camada de armazenamento
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ save_raw.py               # FunÃ§Ã£o para salvar dados brutos em Parquet
â”‚   â”œâ”€â”€ local_storage.py          # Gerenciamento de armazenamento local
â”‚   â””â”€â”€ s3_storage.py             # IntegraÃ§Ã£o com AWS S3
â”œâ”€â”€ ğŸ“ processors/                 # Processadores e transformaÃ§Ãµes
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ data_transformer.py       # TransformaÃ§Ãµes de dados
â”‚   â””â”€â”€ data_validator.py         # ValidaÃ§Ãµes adicionais
â”œâ”€â”€ ğŸ“ utils/                      # UtilitÃ¡rios gerais
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ logger.py                 # ConfiguraÃ§Ã£o de logs
â”‚   â”œâ”€â”€ config.py                 # Gerenciamento de configuraÃ§Ãµes
â”‚   â””â”€â”€ helpers.py                # FunÃ§Ãµes auxiliares
â”œâ”€â”€ ğŸ“ aws/                       # IntegraÃ§Ãµes AWS
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ lambda_handler.py         # Handler da funÃ§Ã£o Lambda
â”‚   â”œâ”€â”€ glue_job.py              # Script do AWS Glue Job
â”‚   â””â”€â”€ athena_queries.py        # Consultas SQL para Athena
â””â”€â”€ main.py                       # Script principal de execuÃ§Ã£o
```

### **ğŸ“ `data/` - Dados Processados Localmente**
```
data/
â”œâ”€â”€ ğŸ“ bronze/                     # Camada Bronze - Dados brutos
â”‚   â””â”€â”€ YYYY-MM-DD.parquet        # Arquivos com header + results juntos
â”œâ”€â”€ ğŸ“ raw/                        # Dados originais da API (JSON)
â”‚   â””â”€â”€ YYYY-MM-DD.json           # Respostas completas da API B3
â”œâ”€â”€ ğŸ“ refined/                    # Dados refinados (apÃ³s processamento)
â”‚   â”œâ”€â”€ ğŸ“ ativos/                # Dados dos ativos separados
â”‚   â”‚   â””â”€â”€ data=YYYY-MM-DD/
â”‚   â”‚       â””â”€â”€ acao=*/
â”‚   â””â”€â”€ ğŸ“ header/                # Dados do header separados
â”‚       â””â”€â”€ data=YYYY-MM-DD/
â””â”€â”€ ğŸ“ processed/                  # Dados finais processados
    â””â”€â”€ reports/                  # RelatÃ³rios gerados
```

### **ï¿½ï¿½ `config/` - ConfiguraÃ§Ãµes**
```
config/
â”œâ”€â”€ ğŸ“„ .env                       # VariÃ¡veis de ambiente (nÃ£o versionado)
â”œâ”€â”€ ğŸ“„ config.yaml               # ConfiguraÃ§Ãµes do projeto
â”œâ”€â”€ ğŸ“„ aws_config.json           # ConfiguraÃ§Ãµes especÃ­ficas AWS
â””â”€â”€ ğŸ“„ logging_config.yaml       # ConfiguraÃ§Ã£o de logs
```

### **ğŸ“ `logs/` - Logs de ExecuÃ§Ã£o**
```
logs/
â”œâ”€â”€ ğŸ“„ app.log                   # Log principal da aplicaÃ§Ã£o
â”œâ”€â”€ ğŸ“„ error.log                 # Log de erros
â”œâ”€â”€ ğŸ“„ aws.log                   # Log de operaÃ§Ãµes AWS
â””â”€â”€ ğŸ“ daily/                    # Logs organizados por data
    â””â”€â”€ YYYY-MM-DD.log
```

### **ğŸ“ `tests/` - Testes**
```
tests/
â”œâ”€â”€ ğŸ“ unit/                      # Testes unitÃ¡rios
â”‚   â”œâ”€â”€ test_collectors.py       # Testes dos coletores
â”‚   â”œâ”€â”€ test_models.py           # Testes dos modelos
â”‚   â”œâ”€â”€ test_storage.py          # Testes de armazenamento
â”‚   â””â”€â”€ test_processors.py       # Testes dos processadores
â”œâ”€â”€ ğŸ“ integration/               # Testes de integraÃ§Ã£o
â”‚   â”œâ”€â”€ test_api_integration.py  # Testes da API B3
â”‚   â””â”€â”€ test_aws_integration.py  # Testes AWS
â”œâ”€â”€ ğŸ“ fixtures/                  # Dados de teste
â”‚   â”œâ”€â”€ sample_data.json         # Dados de exemplo
â”‚   â””â”€â”€ mock_responses.py        # Respostas mockadas
â””â”€â”€ conftest.py                  # ConfiguraÃ§Ã£o do pytest
```

### **ï¿½ï¿½ `docs/` - DocumentaÃ§Ã£o TÃ©cnica**
```
docs/
â”œâ”€â”€ ğŸ“„ development-guide.md      # Guia de desenvolvimento
â”œâ”€â”€ ğŸ“„ operations-manual.md      # Manual de operaÃ§Ã£o
â”œâ”€â”€ ğŸ“„ api-documentation.md      # DocumentaÃ§Ã£o das APIs
â”œâ”€â”€ ï¿½ï¿½ aws-setup-guide.md        # Guia de configuraÃ§Ã£o AWS
â””â”€â”€ ğŸ“ diagrams/                 # Diagramas e arquitetura
    â”œâ”€â”€ pipeline-flow.png        # Fluxo do pipeline
    â””â”€â”€ aws-architecture.png     # Arquitetura AWS
```

### **ğŸ“ `scripts/` - Scripts de AutomaÃ§Ã£o**
```
scripts/
â”œâ”€â”€ ğŸ“„ setup_environment.sh      # Script de configuraÃ§Ã£o do ambiente
â”œâ”€â”€ ğŸ“„ deploy_aws.sh             # Script de deploy AWS
â”œâ”€â”€ ğŸ“„ backup_data.sh            # Script de backup
â””â”€â”€ ğŸ“„ cleanup.sh                # Script de limpeza
```

## ï¿½ï¿½ **ExplicaÃ§Ã£o Detalhada de Cada DiretÃ³rio:**

### **1. `src/collectors/`**
- **PropÃ³sito**: ResponsÃ¡vel pela coleta de dados da API da B3
- **`b3_scraper.py`**: MÃ³dulo principal que faz requisiÃ§Ãµes HTTP para a API da B3, obtendo dados do Ibovespa
- **`api_client.py`**: Cliente HTTP reutilizÃ¡vel com configuraÃ§Ãµes de timeout, retry e headers

### **2. `src/models/`**
- **PropÃ³sito**: Define a estrutura e validaÃ§Ã£o dos dados usando Pydantic
- **`ibov.py`**: Modelos especÃ­ficos para os dados do Ibovespa (header e results)
- **`schemas.py`**: Schemas gerais reutilizÃ¡veis em todo o projeto

### **3. `src/storage/`**
- **PropÃ³sito**: Gerencia o armazenamento de dados em diferentes formatos
- **`save_raw.py`**: FunÃ§Ã£o principal para salvar dados brutos em formato Parquet
- **`local_storage.py`**: OperaÃ§Ãµes de arquivo local
- **`s3_storage.py`**: Upload e download de dados do AWS S3

### **4. `src/processors/`**
- **PropÃ³sito**: TransformaÃ§Ãµes e processamento de dados
- **`data_transformer.py`**: SeparaÃ§Ã£o de header e results, transformaÃ§Ãµes de dados
- **`data_validator.py`**: ValidaÃ§Ãµes adicionais alÃ©m do Pydantic

### **5. `src/utils/`**
- **PropÃ³sito**: UtilitÃ¡rios e configuraÃ§Ãµes compartilhadas
- **`logger.py`**: ConfiguraÃ§Ã£o centralizada de logs
- **`config.py`**: Gerenciamento de configuraÃ§Ãµes do projeto
- **`helpers.py`**: FunÃ§Ãµes auxiliares reutilizÃ¡veis

### **6. `src/aws/`**
- **PropÃ³sito**: IntegraÃ§Ãµes especÃ­ficas com serviÃ§os AWS
- **`lambda_handler.py`**: FunÃ§Ã£o Lambda que aciona o Glue Job
- **`glue_job.py`**: Script executado pelo AWS Glue para ETL
- **`athena_queries.py`**: Consultas SQL prÃ©-definidas para anÃ¡lise

### **7. `data/`**
- **PropÃ³sito**: OrganizaÃ§Ã£o dos dados em camadas (Bronze, Raw, Refined)
- **`bronze/`**: Dados brutos exatamente como recebidos da API
- **`raw/`**: Dados originais em JSON
- **`refined/`**: Dados processados e separados por tipo

### **8. `config/`**
- **PropÃ³sito**: CentralizaÃ§Ã£o de todas as configuraÃ§Ãµes
- **`.env`**: VariÃ¡veis sensÃ­veis (credenciais)
- **`config.yaml`**: ConfiguraÃ§Ãµes gerais do projeto
- **`aws_config.json`**: ConfiguraÃ§Ãµes especÃ­ficas AWS

### **9. `logs/`**
- **PropÃ³sito**: Rastreamento e monitoramento da aplicaÃ§Ã£o
- Logs separados por tipo e data para facilitar debugging

### **10. `tests/`**
- **PropÃ³sito**: Garantia de qualidade e confiabilidade
- Testes unitÃ¡rios para cada mÃ³dulo
- Testes de integraÃ§Ã£o para APIs e AWS
- Fixtures para dados de teste consistentes

### **11. `docs/`**
- **PropÃ³sito**: DocumentaÃ§Ã£o tÃ©cnica completa
- Guias de desenvolvimento e operaÃ§Ã£o
- DocumentaÃ§Ã£o de APIs e arquitetura

### **12. `scripts/`**
- **PropÃ³sito**: AutomaÃ§Ã£o de tarefas operacionais
- Scripts de setup, deploy e manutenÃ§Ã£o

Esta estrutura segue as melhores prÃ¡ticas de engenharia de dados 
e estÃ¡ alinhada com o fluxo de desenvolvimento descrito no arquivo,
 permitindo uma implementaÃ§Ã£o incremental e organizada do pipeline de dados da B3.